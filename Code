1. Create Tables
-- 1st Table: SALESMAN
CREATE TABLE SALESMAN (
    SID VARCHAR2(5) PRIMARY KEY CHECK (SID LIKE 'S%'),
    NAME VARCHAR2(50) NOT NULL,
    CITY VARCHAR2(50) NOT NULL,
    COMMISION NUMBER CHECK (COMMISION > 0)
);

-- 2nd Table: CONSUMER
CREATE TABLE CONSUMER (
    CID VARCHAR2(5) PRIMARY KEY CHECK (CID LIKE 'C%'),
    NAME VARCHAR2(50) NOT NULL,
    CITY VARCHAR2(50) NOT NULL
);

-- 3rd Table: ORDER_DETAIL
CREATE TABLE ORDER_DETAIL (
    ORD_NO VARCHAR2(5) PRIMARY KEY CHECK (ORD_NO LIKE 'O%'),
    OAMOUNT NUMBER NOT NULL,
    SID VARCHAR2(5),
    CID VARCHAR2(5),
    FOREIGN KEY (SID) REFERENCES SALESMAN(SID),
    FOREIGN KEY (CID) REFERENCES CONSUMER(CID)
);
QUERIES

Q2. Display ord_no, amount, cid, name of orders dispatched by salespersons in LONDON or NEW YORK
SELECT o.ORD_NO, o.OAMOUNT, o.CID, s.NAME
FROM ORDER_DETAIL o
JOIN SALESMAN s ON o.SID = s.SID
WHERE s.CITY IN ('LONDON', 'NEW YORK');

Q3. Total number of salespersons from each city
SELECT CITY, COUNT(*) AS TOTAL_SALESMEN
FROM SALESMAN
GROUP BY CITY;

Q4. SID and name of salespersons with commission > average commission
SELECT SID, NAME
FROM SALESMAN
WHERE COMMISION > (SELECT AVG(COMMISION) FROM SALESMAN);

Q5. CID and name of consumers with order > 1000 from JAMES HOOG (using subquery)
SELECT DISTINCT c.CID, c.NAME
FROM CONSUMER c
WHERE c.CID IN (
    SELECT o.CID
    FROM ORDER_DETAIL o
    WHERE o.OAMOUNT > 1000
    AND o.SID = (SELECT SID FROM SALESMAN WHERE NAME = 'JAMES HOOG')
);

Q6. Reduce commission by 2% for salespersons whose name ends with 'E'
UPDATE SALESMAN
SET COMMISION = COMMISION - 0.02
WHERE NAME LIKE '%E';
